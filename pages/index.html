<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>Salmonberry</title>
	</head>

	<style>
		body {
			font-family: monospace;
		}
		.s-btn {
			width: 30px;
			margin: 1px;
		}
		.s-btn-group {
			text-align: center;
			width: 100px;
		}
	</style>

	<body>
		<h2>Salmonberry</h2>
		<hr/>
		<pre>{{content}}</pre>
		<form action='?' method='get'>
			<div class="s-btn-group">
				<input class="s-btn" type="submit" name="input" value="U" onClick="submit">
				<br/>
				<input class="s-btn" type="submit" name="input" value="L" onClick="submit">
				<input class="s-btn" type="submit" name="input" value="R" onClick="submit">
				<br/>
				<input class="s-btn" type="submit" name="input" value="D" onClick="submit">
			</div>
		</form>
	</body>
	<script type="text/javascript">
		window.addEventListener('keydown', (e) => {
			switch(e.key) {
				case "ArrowLeft": qs("L"); break;
				case "ArrowRight": qs("R"); break;
				case "ArrowUp": qs("U"); break;
				case "ArrowDown": qs("D"); break;
				case "w": qs("U"); break;
				case "a": qs("L"); break;
				case "s": qs("D"); break;
				case "d": qs("R"); break;
			}
		});

		function qs(dir) {
			window.location.href = "?input=" + dir;
		}

		function getPath() {
			return ("" + window.location.href).split("?")[0];
		}

		function reload() {
			window.location.href = getPath();
		}

		//setTimeout(reload, 1000);
	</script>
</html>